<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clean Energy Course Development Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #9DC88D 0%, #BFDA7A 50%, #4A7C7E 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
        }
        
        /* Password Protection Overlay Styles */
        .auth-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            animation: fadeIn 0.3s ease-out forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .auth-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            transform: scale(0.9);
            animation: scaleIn 0.3s ease-out forwards;
        }
        
        @keyframes scaleIn {
            to { transform: scale(1); }
        }
        
        .auth-card h2 {
            color: #4A7C7E;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .auth-card p {
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 1.1em;
        }
        
        .auth-icon {
            font-size: 3em;
            margin-bottom: 20px;
            color: #9DC88D;
        }
        
        .password-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
            transition: all 0.3s;
            text-align: center;
            letter-spacing: 2px;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #4A7C7E;
            box-shadow: 0 0 0 3px rgba(74, 124, 126, 0.1);
        }
        
        .password-input.error {
            border-color: #e74c3c;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .auth-button {
            background: linear-gradient(135deg, #4A7C7E, #9DC88D);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            box-shadow: 0 4px 15px rgba(74, 124, 126, 0.3);
        }
        
        .auth-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 124, 126, 0.4);
        }
        
        .auth-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .error-message {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 10px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .error-message.show {
            opacity: 1;
        }
        
        .site-content {
            transition: filter 0.3s;
        }
        
        .site-content.locked {
            filter: blur(3px);
            pointer-events: none;
            user-select: none;
        }
        
        /* Original styles continue below */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            padding: 40px;
            backdrop-filter: blur(10px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            color: #4A7C7E;
            margin-bottom: 10px;
            font-size: 2.8em;
            background: linear-gradient(135deg, #4A7C7E, #9DC88D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 20px;
            font-size: 1.2em;
        }
        
        .leaf-icon {
            display: inline-block;
            font-size: 2em;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .controls {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4e8d4 100%);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid #9DC88D;
        }
        
        .results {
            background: linear-gradient(135deg, #e5f0f0 0%, #d6e5e5 100%);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid #4A7C7E;
        }
        
        .control-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        input[type="range"] {
            width: 100%;
            height: 10px;
            border-radius: 10px;
            background: linear-gradient(to right, #4A7C7E 0%, #9DC88D 50%, #BFDA7A 100%);
            outline: none;
            -webkit-appearance: none;
            margin: 15px 0;
            opacity: 0.8;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            border: 3px solid #4A7C7E;
            transition: all 0.3s;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .module-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px 15px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            user-select: none;
        }
        
        .module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, #4A7C7E, #9DC88D);
            transform: scaleX(0);
            transition: transform 0.3s;
        }
        
        .module-card.selected {
            border-color: #4A7C7E;
            background: linear-gradient(to bottom, #f0f8f8, #ffffff);
            box-shadow: 0 3px 15px rgba(74, 124, 126, 0.2);
        }
        
        .module-card.selected::before {
            transform: scaleX(1);
        }
        
        .module-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .module-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            filter: grayscale(0.7);
            transition: filter 0.3s;
        }
        
        .module-card.selected .module-icon {
            filter: grayscale(0);
        }
        
        .module-card h5 {
            color: #2c3e50;
            margin: 10px 0 5px 0;
            font-size: 1em;
            font-weight: 600;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .module-impact {
            font-size: 0.8em;
            color: #7f8c8d;
            margin: 5px 0 15px 0;
            min-height: 20px;
        }
        
        .module-checkbox {
            margin-top: 10px;
        }
        
        .module-checkbox input[type="checkbox"] {
            display: none;
        }
        
        .module-checkbox label {
            display: inline-block;
            padding: 5px 15px;
            background: #f0f0f0;
            border-radius: 20px;
            font-size: 0.85em;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .module-card.selected .module-checkbox label {
            background: #4A7C7E;
            color: white;
        }
        
        .module-count {
            text-align: center;
            margin-top: 20px;
            font-size: 1.1em;
            color: #4A7C7E;
        }
        
        .value-display {
            display: inline-block;
            background: #4A7C7E;
            color: white;
            padding: 6px 18px;
            border-radius: 25px;
            font-weight: 600;
            min-width: 70px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(74, 124, 126, 0.3);
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            background: white;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #bdc3c7;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .checkbox-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(135deg, #4A7C7E, #9DC88D);
            transition: width 0.3s;
            z-index: 0;
        }
        
        .checkbox-item.checked::before {
            width: 100%;
        }
        
        .checkbox-item:hover {
            border-color: #4A7C7E;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            z-index: 1;
            position: relative;
        }
        
        .checkbox-item span {
            z-index: 1;
            position: relative;
        }
        
        .checkbox-item.checked {
            color: white;
            border-color: #27ae60;
        }
        
        .result-item {
            margin-bottom: 20px;
            padding: 18px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .result-item:hover {
            transform: translateX(5px);
        }
        
        .result-label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }
        
        .result-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .price-highlight {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 5px 20px rgba(39, 174, 96, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .price-highlight::before {
            content: '💰';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 100px;
            opacity: 0.1;
        }
        
        .price-highlight .result-value {
            color: white;
            font-size: 2.8em;
        }
        
        .impact-section {
            background: linear-gradient(135deg, #f9f9f9 0%, #f0f0f0 100%);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
        }
        
        .impact-title {
            color: #4A7C7E;
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .impact-content {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            align-items: center;
        }
        
        .impact-metrics {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .metric-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            text-align: center;
            transition: all 0.3s;
        }
        
        .metric-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
        }
        
        .metric-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .metric-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #4A7C7E;
            margin-bottom: 5px;
        }
        
        .metric-label {
            color: #7f8c8d;
            font-size: 0.85em;
        }
        
        .radar-container {
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        #radarCanvas {
            max-width: 100%;
            max-height: 100%;
        }
        
        .legend-box {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 30px;
            background: rgba(255,255,255,0.95);
            padding: 12px 25px;
            border-radius: 12px;
            font-size: 0.9em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 3px;
            border-radius: 2px;
        }
        
        .breakdown {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-top: 30px;
            box-shadow: 0 3px 20px rgba(0,0,0,0.08);
        }
        
        .breakdown h3 {
            color: #27ae60;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: 700;
            color: #27ae60;
            font-size: 1.2em;
            margin-top: 10px;
            padding-top: 20px;
            border-top: 2px solid #27ae60;
        }
        
        .info-box {
            background: linear-gradient(135deg, #e8f8f5 0%, #d5f4e6 100%);
            border-left: 5px solid #27ae60;
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 15px 15px 0;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
        }
        
        .info-box h4 {
            color: #27ae60;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .info-box ul {
            margin-left: 20px;
            color: #34495e;
        }
        
        .info-box li {
            margin: 8px 0;
            line-height: 1.6;
        }
        
        .discount-notice {
            background: linear-gradient(135deg, #f39c12, #f1c40f);
            color: white;
            padding: 18px;
            border-radius: 15px;
            margin-top: 15px;
            text-align: center;
            font-weight: 600;
            box-shadow: 0 3px 15px rgba(243, 156, 18, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .audience-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .audience-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e8f8f5;
            transition: all 0.3s;
        }
        
        .audience-card:hover {
            border-color: #27ae60;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .audience-card h5 {
            color: #27ae60;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .audience-card ul {
            list-style: none;
            padding: 0;
        }
        
        .audience-card li {
            padding: 5px 0;
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .audience-card li::before {
            content: '✓ ';
            color: #27ae60;
            font-weight: bold;
            margin-right: 5px;
        }
        
        @media (max-width: 968px) {
            .main-grid,
            .audience-details {
                grid-template-columns: 1fr;
            }
            
            .impact-content {
                grid-template-columns: 1fr;
            }
            
            .checkbox-group {
                grid-template-columns: 1fr;
            }
            
            .module-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 2em;
            }
            
            .container {
                padding: 20px;
            }
            
            .radar-container {
                height: 400px;
            }
            
            #radarCanvas {
                width: 400px;
                height: 400px;
            }
        }
        
        @media (max-width: 600px) {
            .module-grid {
                grid-template-columns: 1fr;
            }
            
            .module-card {
                padding: 15px;
            }
            
            .module-card h5 {
                min-height: auto;
            }
        }
        
        @keyframes fadeOut { to { opacity: 0; } }
    </style>
</head>
<body>
    <!-- Password Protection Overlay -->
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-card">
            <div class="auth-icon">🔒</div>
            <h2>Protected Content</h2>
            <p>Please enter the password to access the Clean Energy Course Calculator</p>
            <input 
                type="password" 
                class="password-input" 
                id="passwordInput" 
                placeholder="Enter password"
                autocomplete="off"
            >
            <button class="auth-button" id="authButton">Access Calculator</button>
            <div class="error-message" id="errorMessage">Incorrect password. Please try again.</div>
        </div>
    </div>
    
    <!-- Main Site Content -->
    <div class="site-content locked" id="siteContent">
        <div class="container">
            <div class="header">
                <div class="leaf-icon">🌿</div>
                <h1>Clean Energy Course Development Calculator</h1>
                <p class="subtitle">Design your sustainable future with custom training modules</p>
            </div>
            
            <div class="main-grid">
                <div class="controls">
                    <div class="control-group">
                        <label>Select Course Modules: <span style="font-weight: normal; font-size: 0.9em; color: #7f8c8d;">(Click modules to include/exclude)</span></label>
                        <div class="module-grid">
                            <div class="module-card selected" data-module="hvac">
                                <div class="module-icon">🔥❄️</div>
                                <h5>HVAC Heat Pumps</h5>
                                <p class="module-impact">High energy efficiency impact</p>
                                <div class="module-checkbox">
                                    <input type="checkbox" id="module-hvac" class="module-checkbox-input" checked>
                                    <label for="module-hvac">Included</label>
                                </div>
                            </div>
                            <div class="module-card selected" data-module="audit">
                                <div class="module-icon">📊</div>
                                <h5>Energy Audits</h5>
                                <p class="module-impact">Building efficiency analysis</p>
                                <div class="module-checkbox">
                                    <input type="checkbox" id="module-audit" class="module-checkbox-input" checked>
                                    <label for="module-audit">Included</label>
                                </div>
                            </div>
                            <div class="module-card selected" data-module="solar">
                                <div class="module-icon">☀️</div>
                                <h5>Solar Assessment & Installation</h5>
                                <p class="module-impact">Renewable energy generation</p>
                                <div class="module-checkbox">
                                    <input type="checkbox" id="module-solar" class="module-checkbox-input" checked>
                                    <label for="module-solar">Included</label>
                                </div>
                            </div>
                            <div class="module-card" data-module="ev">
                                <div class="module-icon">🚗⚡</div>
                                <h5>EV Infrastructure</h5>
                                <p class="module-impact">Transportation electrification</p>
                                <div class="module-checkbox">
                                    <input type="checkbox" id="module-ev" class="module-checkbox-input">
                                    <label for="module-ev">Include</label>
                                </div>
                            </div>
                            <div class="module-card" data-module="justice">
                                <div class="module-icon">⚖️🌍</div>
                                <h5>Environmental Justice</h5>
                                <p class="module-impact">Equity & community focus</p>
                                <div class="module-checkbox">
                                    <input type="checkbox" id="module-justice" class="module-checkbox-input">
                                    <label for="module-justice">Include</label>
                                </div>
                            </div>
                        </div>
                        <div class="module-count">Selected Modules: <span class="value-display" id="modules-display">3</span></div>
                    </div>
                    
                    <div class="control-group">
                        <label>Select Target Audiences:</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" class="audience-checkbox" value="primary" data-age="8-11" checked>
                                <span>Primary School (Ages 8-11)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" class="audience-checkbox" value="secondary" data-age="12-18">
                                <span>Secondary School (Ages 12-18)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" class="audience-checkbox" value="college" data-age="18-22">
                                <span>College/Technical</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" class="audience-checkbox" value="professional" data-age="22+">
                                <span>Professional/Employee</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label>Hourly Rate: <span class="value-display" id="rate-display">$125</span></label>
                        <input type="range" id="hourly-rate" min="100" max="150" value="125" step="5">
                    </div>
                    
                    <div class="control-group">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="apply-discount" checked>
                            <span>Apply bundle discount (20% for all 5 modules)</span>
                        </label>
                    </div>
                </div>
                
                <div class="results">
                    <div class="result-item">
                        <div class="result-label">Total Development Hours</div>
                        <div class="result-value" id="total-hours">180 hours</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label">Base Cost (Before Multipliers)</div>
                        <div class="result-value" id="base-cost">$22,500</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label">Complexity Multiplier</div>
                        <div class="result-value" id="multiplier">1.0x</div>
                    </div>
                    
                    <div class="price-highlight">
                        <div class="result-label">Total Investment</div>
                        <div class="result-value" id="final-cost">$22,500</div>
                    </div>
                    
                    <div id="discount-notice" class="discount-notice" style="display: none;">
                        🎉 20% Bundle Discount Applied! 🎉
                    </div>
                </div>
            </div>
            
            <div class="impact-section">
                <h2 class="impact-title">🌍 Environmental & Social Impact Analysis</h2>
                <div class="impact-content">
                    <div class="impact-metrics">
                        <div class="metric-item">
                            <div class="metric-icon">👥</div>
                            <div class="metric-value" id="learners-reached">0</div>
                            <div class="metric-label">Learners Reached</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">🌱</div>
                            <div class="metric-value" id="carbon-impact">0</div>
                            <div class="metric-label">CO₂ Reduction (tons)</div>
                        </div>
                    </div>
                    
                    <div class="radar-container">
                        <canvas id="radarCanvas" width="500" height="500"></canvas>
                        <div class="legend-box">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #4A7C7E;"></div>
                                <span>Current Selection</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #9DC88D;"></div>
                                <span>Max Potential</span>
                            </div>
                        </div>
                        <div id="selected-modules-indicator" style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); font-size: 0.85em; color: #4A7C7E; font-weight: 600;"></div>
                    </div>
                    
                    <div class="impact-metrics">
                        <div class="metric-item">
                            <div class="metric-icon">💡</div>
                            <div class="metric-value" id="learning-hours">0</div>
                            <div class="metric-label">Learning Hours</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">💼</div>
                            <div class="metric-value" id="career-paths">0</div>
                            <div class="metric-label">Career Paths</div>
                        </div>
                    </div>
                </div>
                
                <div class="module-impact-breakdown" id="module-impact-breakdown" style="margin-top: 30px; padding: 20px; background: white; border-radius: 15px; display: none;">
                    <h4 style="color: #4A7C7E; margin-bottom: 15px;">Module-Specific Impact Contributions</h4>
                    <div id="module-impacts-list"></div>
                </div>
            </div>
            
            <div class="breakdown">
                <h3>💰 Investment Breakdown</h3>
                <div id="breakdown-details"></div>
            </div>
            
            <div class="info-box">
                <h4>📚 What's Included in Each Module:</h4>
                <ul>
                    <li><strong>Content Development (20-25 hours):</strong> 2-3 hours of learner content, research, writing, and editing</li>
                    <li><strong>Interactive Elements (15-20 hours):</strong> 2-3 simulations or interactive activities</li>
                    <li><strong>Assessments (10-12 hours):</strong> Pre-assessment, module quiz, and final project with rubrics</li>
                    <li><strong>Multimedia Assets (8-10 hours):</strong> Custom graphics, diagrams, and optional audio narration</li>
                    <li><strong>Quality Assurance (7-8 hours):</strong> Technical testing, content review, and accessibility checks</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>🎯 Audience-Specific Learning Experiences:</h4>
                <div class="audience-details">
                    <div class="audience-card">
                        <h5>Primary School (Ages 8-11)</h5>
                        <ul>
                            <li>45-60 minutes learner time</li>
                            <li>Story-based learning</li>
                            <li>Simple drag-and-drop activities</li>
                            <li>Picture-heavy, minimal text</li>
                            <li>Basic vocabulary</li>
                        </ul>
                    </div>
                    <div class="audience-card">
                        <h5>Secondary School (Ages 12-18)</h5>
                        <ul>
                            <li>90-120 minutes learner time</li>
                            <li>Problem-solving focus</li>
                            <li>Interactive simulations</li>
                            <li>Real-world connections</li>
                            <li>Pre-career exploration</li>
                        </ul>
                    </div>
                    <div class="audience-card">
                        <h5>College/Technical</h5>
                        <ul>
                            <li>2-3 hours learner time</li>
                            <li>Technical depth</li>
                            <li>Industry-standard tools</li>
                            <li>Hands-on projects</li>
                            <li>Certification prep</li>
                        </ul>
                    </div>
                    <div class="audience-card">
                        <h5>Professional/Employee</h5>
                        <ul>
                            <li>2-3 hours learner time</li>
                            <li>Immediately applicable skills</li>
                            <li>ROI calculations</li>
                            <li>Compliance focus</li>
                            <li>Implementation strategies</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Password Protection
        const AUTH_PASSWORD = "ENVIRONMENTALJUSTICE";
        const authOverlay = document.getElementById('authOverlay');
        const passwordInput = document.getElementById('passwordInput');
        const authButton = document.getElementById('authButton');
        const errorMessage = document.getElementById('errorMessage');
        const siteContent = document.getElementById('siteContent');
        
        // Check if already authenticated in this session
        const isAuthenticated = sessionStorage.getItem('cleanEnergyAuth') === 'true';
        
        if (isAuthenticated) {
            // Already authenticated, remove overlay and unlock content
            authOverlay.style.display = 'none';
            siteContent.classList.remove('locked');
        }
        
        // Handle authentication
        function authenticate() {
            const enteredPassword = passwordInput.value;
            
            if (enteredPassword === AUTH_PASSWORD) {
                // Success - store in session and unlock
                sessionStorage.setItem('cleanEnergyAuth', 'true');
                authOverlay.style.animation = 'fadeOut 0.3s ease-out forwards';
                siteContent.classList.remove('locked');
                
                setTimeout(() => {
                    authOverlay.style.display = 'none';
                }, 300);
            } else {
                // Error - show message and shake
                passwordInput.classList.add('error');
                errorMessage.classList.add('show');
                authButton.disabled = true;
                
                setTimeout(() => {
                    passwordInput.classList.remove('error');
                    errorMessage.classList.remove('show');
                    authButton.disabled = false;
                    passwordInput.value = '';
                    passwordInput.focus();
                }, 2000);
            }
        }
        
        // Event listeners for authentication
        authButton.addEventListener('click', authenticate);
        passwordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                authenticate();
            }
        });
        
        // Auto-focus password input
        passwordInput.focus();
        
        // Get all elements
        const modulesDisplay = document.getElementById('modules-display');
        const hourlyRateSlider = document.getElementById('hourly-rate');
        const rateDisplay = document.getElementById('rate-display');
        const audienceCheckboxes = document.querySelectorAll('.audience-checkbox');
        const moduleCheckboxes = document.querySelectorAll('.module-checkbox-input');
        const moduleCards = document.querySelectorAll('.module-card');
        const applyDiscountCheckbox = document.getElementById('apply-discount');
        
        const totalHoursEl = document.getElementById('total-hours');
        const baseCostEl = document.getElementById('base-cost');
        const multiplierEl = document.getElementById('multiplier');
        const finalCostEl = document.getElementById('final-cost');
        const discountNotice = document.getElementById('discount-notice');
        const breakdownDetails = document.getElementById('breakdown-details');
        
        // Impact elements
        const learnersReachedEl = document.getElementById('learners-reached');
        const learningHoursEl = document.getElementById('learning-hours');
        const carbonImpactEl = document.getElementById('carbon-impact');
        const careerPathsEl = document.getElementById('career-paths');
        const radarCanvas = document.getElementById('radarCanvas');
        const ctx = radarCanvas.getContext('2d');
        
        // Radar chart settings
        const centerX = 250;
        const centerY = 230;
        const radius = 150;
        const categories = [
            'Educational Reach',
            'Environmental Impact',
            'Economic Opportunity', 
            'Social Equity',
            'Community Resilience',
            'Innovation Potential'
        ];
        
        // Module impact weights (0-1 scale for each category)
        const moduleImpacts = {
            hvac: {
                name: 'HVAC Heat Pumps',
                educational: 0.8,
                environmental: 1.0,
                economic: 0.9,
                social: 0.6,
                community: 0.8,
                innovation: 0.7
            },
            audit: {
                name: 'Energy Audits',
                educational: 0.9,
                environmental: 0.8,
                economic: 0.8,
                social: 0.7,
                community: 0.9,
                innovation: 0.6
            },
            solar: {
                name: 'Solar Assessment',
                educational: 0.9,
                environmental: 1.0,
                economic: 1.0,
                social: 0.7,
                community: 0.8,
                innovation: 0.9
            },
            ev: {
                name: 'EV Infrastructure',
                educational: 0.7,
                environmental: 0.9,
                economic: 0.9,
                social: 0.8,
                community: 0.7,
                innovation: 1.0
            },
            justice: {
                name: 'Environmental Justice',
                educational: 1.0,
                environmental: 0.7,
                economic: 0.6,
                social: 1.0,
                community: 1.0,
                innovation: 0.8
            }
        };
        
        // Calculate function
        function calculate() {
            const selectedModules = Array.from(moduleCheckboxes).filter(cb => cb.checked);
            const modules = selectedModules.length;
            const hourlyRate = parseInt(hourlyRateSlider.value);
            const selectedAudiences = Array.from(audienceCheckboxes).filter(cb => cb.checked);
            const audiences = selectedAudiences.length;
            const applyDiscount = applyDiscountCheckbox.checked && modules === 5;
            
            // Update selected modules indicator
            const selectedModulesIndicator = document.getElementById('selected-modules-indicator');
            if (modules > 0) {
                selectedModulesIndicator.textContent = `${modules} Module${modules > 1 ? 's' : ''} Selected`;
            } else {
                selectedModulesIndicator.textContent = 'No Modules Selected';
            }
            
            // Update displays
            modulesDisplay.textContent = modules;
            rateDisplay.textContent = `$${hourlyRate}`;
            
            // Calculate hours
            let totalHours = 0;
            if (audiences === 0 || modules === 0) {
                totalHours = 0;
            } else if (audiences === 1) {
                // First audience: 60 hours per module
                totalHours = modules * 60;
            } else {
                // First audience: 60 hours, additional audiences: 30 hours each
                totalHours = modules * (60 + (audiences - 1) * 30);
            }
            
            // Calculate base cost
            const baseCost = totalHours * hourlyRate;
            
            // Calculate multiplier for multiple audiences
            let multiplier = 1.0;
            if (audiences >= 4) {
                multiplier = 1.25; // 25% premium for 4 audiences
            } else if (audiences >= 3) {
                multiplier = 1.15; // 15% premium for 3 audiences
            }
            
            // Calculate final cost
            let finalCost = baseCost * multiplier;
            
            // Apply discount if applicable
            if (applyDiscount) {
                finalCost = finalCost * 0.8; // 20% discount
                discountNotice.style.display = 'block';
            } else {
                discountNotice.style.display = 'none';
            }
            
            // Update displays
            totalHoursEl.textContent = `${totalHours.toLocaleString()} hours`;
            baseCostEl.textContent = `$${baseCost.toLocaleString()}`;
            multiplierEl.textContent = `${multiplier}x`;
            finalCostEl.textContent = `$${Math.round(finalCost).toLocaleString()}`;
            
            // Calculate impact metrics with selected modules
            calculateImpact(selectedModules, audiences, selectedAudiences);
            
            // Update breakdown
            updateBreakdown(modules, audiences, totalHours, hourlyRate, baseCost, multiplier, finalCost, applyDiscount, selectedModules);
        }
        
        // Calculate environmental and social impact
        function calculateImpact(selectedModules, audiences, selectedAudiences) {
            const modules = selectedModules.length;
            
            // Estimate learners reached (assuming 100 learners per audience type)
            const learnersPerAudience = 100;
            const totalLearners = audiences * learnersPerAudience * modules * 10; // 10x multiplier for reach
            
            // Calculate learning hours created
            let learningHours = 0;
            selectedAudiences.forEach(checkbox => {
                if (checkbox.value === 'primary') {
                    learningHours += modules * 1; // 1 hour average
                } else if (checkbox.value === 'secondary') {
                    learningHours += modules * 1.75; // 1.75 hours average
                } else {
                    learningHours += modules * 2.5; // 2.5 hours average
                }
            });
            
            // Calculate module-specific impacts
            let totalEnvironmentalWeight = 0;
            let totalEconomicWeight = 0;
            let totalSocialWeight = 0;
            
            selectedModules.forEach(checkbox => {
                const moduleKey = checkbox.id.replace('module-', '');
                const moduleData = moduleImpacts[moduleKey];
                if (moduleData) {
                    totalEnvironmentalWeight += moduleData.environmental;
                    totalEconomicWeight += moduleData.economic;
                    totalSocialWeight += moduleData.social;
                }
            });
            
            // Estimate carbon impact based on module selection
            const baseCarbon = 0.5; // Base tons per learner
            const carbonImpact = Math.round(totalLearners * baseCarbon * (totalEnvironmentalWeight / modules));
            
            // Career paths based on economic weight
            const careerPaths = Math.round(modules * 20 * (totalEconomicWeight / modules));
            
            // Update displays with animation
            animateNumber(learnersReachedEl, totalLearners);
            animateNumber(learningHoursEl, Math.round(learningHours * learnersPerAudience));
            animateNumber(carbonImpactEl, carbonImpact);
            animateNumber(careerPathsEl, careerPaths);
            
            // Calculate radar values using module-specific weights
            let educationalSum = 0, environmentalSum = 0, economicSum = 0;
            let socialSum = 0, communitySum = 0, innovationSum = 0;
            
            selectedModules.forEach(checkbox => {
                const moduleKey = checkbox.id.replace('module-', '');
                const moduleData = moduleImpacts[moduleKey];
                if (moduleData) {
                    educationalSum += moduleData.educational;
                    environmentalSum += moduleData.environmental;
                    economicSum += moduleData.economic;
                    socialSum += moduleData.social;
                    communitySum += moduleData.community;
                    innovationSum += moduleData.innovation;
                }
            });
            
            // Average the weights and scale by audiences
            const moduleAvg = modules > 0 ? modules : 1;
            const audienceMultiplier = audiences / 4; // Scale by proportion of audiences selected
            
            const radarValues = {
                current: [
                    Math.min((educationalSum / moduleAvg) * audienceMultiplier * 100, 100),
                    Math.min((environmentalSum / moduleAvg) * audienceMultiplier * 100, 100),
                    Math.min((economicSum / moduleAvg) * audienceMultiplier * 100, 100),
                    Math.min((socialSum / moduleAvg) * audienceMultiplier * 100, 100),
                    Math.min((communitySum / moduleAvg) * audienceMultiplier * 100, 100),
                    Math.min((innovationSum / moduleAvg) * audienceMultiplier * 100, 100)
                ],
                max: [100, 100, 100, 100, 100, 100]
            };
            
            // Draw radar chart
            drawRadarChart(radarValues);
            
            // Update module impact breakdown
            const moduleBreakdownEl = document.getElementById('module-impact-breakdown');
            const moduleImpactsListEl = document.getElementById('module-impacts-list');
            
            if (modules > 0) {
                moduleBreakdownEl.style.display = 'block';
                let impactHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">';
                
                selectedModules.forEach(checkbox => {
                    const moduleKey = checkbox.id.replace('module-', '');
                    const moduleData = moduleImpacts[moduleKey];
                    if (moduleData) {
                        const avgImpact = ((moduleData.educational + moduleData.environmental + 
                                          moduleData.economic + moduleData.social + 
                                          moduleData.community + moduleData.innovation) / 6 * 100).toFixed(0);
                        
                        impactHTML += `
                            <div style="padding: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #4A7C7E;">
                                <h5 style="margin: 0 0 10px 0; color: #2c3e50;">${moduleData.name}</h5>
                                <div style="font-size: 0.85em; color: #7f8c8d;">
                                    <div>🌍 Environmental: ${(moduleData.environmental * 100).toFixed(0)}%</div>
                                    <div>💰 Economic: ${(moduleData.economic * 100).toFixed(0)}%</div>
                                    <div>⚖️ Social Equity: ${(moduleData.social * 100).toFixed(0)}%</div>
                                    <div style="margin-top: 5px; font-weight: 600; color: #4A7C7E;">
                                        Overall Impact: ${avgImpact}%
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                });
                
                impactHTML += '</div>';
                moduleImpactsListEl.innerHTML = impactHTML;
            } else {
                moduleBreakdownEl.style.display = 'none';
            }
        }
        
        // Draw radar chart
        function drawRadarChart(values) {
            // Clear canvas
            ctx.clearRect(0, 0, 500, 500);
            
            // Draw background circles
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, (radius / 5) * i, 0, 2 * Math.PI);
                ctx.stroke();
            }
            
            // Draw axes
            const angleStep = (2 * Math.PI) / categories.length;
            categories.forEach((category, index) => {
                const angle = angleStep * index - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = '#e0e0e0';
                ctx.stroke();
                
                // Draw labels
                ctx.fillStyle = '#4A7C7E';
                ctx.font = 'bold 13px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                const labelRadius = radius + 40;
                const labelX = centerX + labelRadius * Math.cos(angle);
                const labelY = centerY + labelRadius * Math.sin(angle);
                
                // Split long labels into multiple lines
                const words = category.split(' ');
                if (words.length > 1 && (index === 1 || index === 2 || index === 4 || index === 5)) {
                    // For labels that need to be split
                    ctx.fillText(words[0], labelX, labelY - 8);
                    ctx.fillText(words[1], labelX, labelY + 8);
                } else {
                    ctx.fillText(category, labelX, labelY);
                }
            });
            
            // Draw percentage labels on circles
            ctx.fillStyle = '#999';
            ctx.font = '11px Arial';
            for (let i = 1; i <= 5; i++) {
                const labelRadius = (radius / 5) * i;
                ctx.fillText(`${i * 20}%`, centerX + labelRadius + 5, centerY);
            }
            
            // Draw data polygons
            // Max potential (light green)
            drawPolygon(values.max, 'rgba(157, 200, 141, 0.2)', '#9DC88D', 2);
            
            // Current selection (dark teal)
            drawPolygon(values.current, 'rgba(74, 124, 126, 0.3)', '#4A7C7E', 3);
        }
        
        // Helper function to draw polygon
        function drawPolygon(values, fillColor, strokeColor, lineWidth) {
            const angleStep = (2 * Math.PI) / categories.length;
            
            ctx.beginPath();
            values.forEach((value, index) => {
                const angle = angleStep * index - Math.PI / 2;
                const distance = (value / 100) * radius;
                const x = centerX + distance * Math.cos(angle);
                const y = centerY + distance * Math.sin(angle);
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.closePath();
            
            ctx.fillStyle = fillColor;
            ctx.fill();
            
            ctx.strokeStyle = strokeColor;
            ctx.lineWidth = lineWidth;
            ctx.stroke();
            
            // Draw points
            values.forEach((value, index) => {
                const angle = angleStep * index - Math.PI / 2;
                const distance = (value / 100) * radius;
                const x = centerX + distance * Math.cos(angle);
                const y = centerY + distance * Math.sin(angle);
                
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fillStyle = strokeColor;
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
        }
        
        // Animate numbers
        function animateNumber(element, target) {
            const current = parseInt(element.textContent.replace(/,/g, '')) || 0;
            const increment = (target - current) / 20;
            let step = 0;
            
            const timer = setInterval(() => {
                step++;
                const value = Math.round(current + increment * step);
                element.textContent = value.toLocaleString();
                
                if (step >= 20) {
                    clearInterval(timer);
                    element.textContent = target.toLocaleString();
                }
            }, 30);
        }
        
        // Update breakdown details
        function updateBreakdown(modules, audiences, totalHours, hourlyRate, baseCost, multiplier, finalCost, applyDiscount, selectedModules) {
            let breakdownHTML = '';
            
            if (audiences > 0 && modules > 0) {
                // Show selected modules
                const moduleNames = selectedModules.map(cb => {
                    const moduleKey = cb.id.replace('module-', '');
                    return moduleImpacts[moduleKey].name;
                }).join(', ');
                
                breakdownHTML += `<div class="breakdown-item" style="font-size: 0.9em; color: #7f8c8d;">
                    <span><strong>Selected Modules:</strong> ${moduleNames}</span>
                </div>`;
                
                breakdownHTML += `<div class="breakdown-item">
                    <span>Module Development (${modules} module${modules > 1 ? 's' : ''} × ${audiences} audience${audiences > 1 ? 's' : ''})</span>
                    <span>${totalHours.toLocaleString()} hours</span>
                </div>`;
                
                breakdownHTML += `<div class="breakdown-item">
                    <span>Base Cost (${totalHours.toLocaleString()} hours × $${hourlyRate}/hour)</span>
                    <span>$${baseCost.toLocaleString()}</span>
                </div>`;
                
                if (multiplier > 1) {
                    breakdownHTML += `<div class="breakdown-item">
                        <span>Complexity Premium (${((multiplier - 1) * 100).toFixed(0)}%)</span>
                        <span>$${Math.round(baseCost * (multiplier - 1)).toLocaleString()}</span>
                    </div>`;
                }
                
                if (applyDiscount) {
                    breakdownHTML += `<div class="breakdown-item">
                        <span>Bundle Discount (20%)</span>
                        <span>-$${Math.round(baseCost * multiplier * 0.2).toLocaleString()}</span>
                    </div>`;
                }
                
                breakdownHTML += `<div class="breakdown-item">
                    <span>Total Project Investment</span>
                    <span>$${Math.round(finalCost).toLocaleString()}</span>
                </div>`;
            } else {
                breakdownHTML = '<p style="color: #7f8c8d; text-align: center;">Please select at least one module and one audience level to see pricing.</p>';
            }
            
            breakdownDetails.innerHTML = breakdownHTML;
        }
        
        // Update checkbox styling
        function updateCheckboxStyles() {
            audienceCheckboxes.forEach(checkbox => {
                const item = checkbox.closest('.checkbox-item');
                if (checkbox.checked) {
                    item.classList.add('checked');
                } else {
                    item.classList.remove('checked');
                }
            });
        }
        
        // Update module card styling
        function updateModuleCards() {
            moduleCards.forEach(card => {
                const checkbox = card.querySelector('.module-checkbox-input');
                const label = card.querySelector('.module-checkbox label');
                if (checkbox.checked) {
                    card.classList.add('selected');
                    label.textContent = 'Included';
                } else {
                    card.classList.remove('selected');
                    label.textContent = 'Include';
                }
            });
        }
        
        // Event listeners
        hourlyRateSlider.addEventListener('input', calculate);
        applyDiscountCheckbox.addEventListener('change', calculate);
        
        audienceCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                updateCheckboxStyles();
                calculate();
            });
        });
        
        // Module card click handlers
        moduleCards.forEach(card => {
            card.addEventListener('click', (e) => {
                // Don't toggle if clicking on the checkbox label itself
                if (e.target.tagName !== 'LABEL' && e.target.tagName !== 'INPUT') {
                    const checkbox = card.querySelector('.module-checkbox-input');
                    checkbox.checked = !checkbox.checked;
                    updateModuleCards();
                    calculate();
                }
            });
        });
        
        moduleCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                updateModuleCards();
                calculate();
            });
        });
        
        // Initial calculation
        updateCheckboxStyles();
        updateModuleCards();
        calculate();
    </script>
</body>
</html>
